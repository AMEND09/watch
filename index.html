<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Time Zone App</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 50px;
            background-color: #1e1e1e; /* Dark mode background color */
            color: #ffffff; /* Dark mode text color */
        }

        h1 {
            font-size: 2em;
            margin-bottom: 20px;
        }

        #time {
            font-size: 3em;
            margin-bottom: 20px;
        }

        button {
            background-color: #2196F3; /* Blue button color */
            color: #ffffff; /* Button text color */
            padding: 10px 20px;
            font-size: 1em;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <h1>Time Zone App</h1>
    
    <p id="time"></p>
    
    <button onclick="toggleTimeFormat()">Toggle Time Format</button>

    <script>
        function getCurrentTime() {
            const now = new Date();
            return now.toLocaleTimeString();
        }

        function updateTime() {
            const timeElement = document.getElementById("time");
            timeElement.textContent = getCurrentTime();
        }

        function toggleTimeFormat() {
            const timeElement = document.getElementById("time");
            const currentTime = new Date();
            const options = {
                hour12: !currentTime.toLocaleTimeString(undefined, { hour12: true }).includes("AM"),
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            };
            timeElement.textContent = currentTime.toLocaleTimeString(undefined, options);
        }

        function updateLocationTime() {
            // You can use the Geolocation API to get the user's location.
            navigator.geolocation.getCurrentPosition(
                (position) => {
                    const latitude = position.coords.latitude;
                    const longitude = position.coords.longitude;

                    // Use an API like OpenWeatherMap to get the timezone based on the location.
                    // For simplicity, we're using a fixed offset here.
                    const offset = (longitude > 0) ? 2 : -5; // Adjust based on the user's actual location.

                    const userTime = new Date();
                    const userOffset = userTime.getTimezoneOffset() / 60;
                    const localTime = new Date(userTime.getTime() + (userOffset + offset) * 60 * 60 * 1000);

                    const timeElement = document.getElementById("time");
                    const options = {
                        hour12: !localTime.toLocaleTimeString(undefined, { hour12: true }).includes("AM"),
                        hour: '2-digit',
                        minute: '2-digit',
                        second: '2-digit'
                    };
                    timeElement.textContent = localTime.toLocaleTimeString(undefined, options);
                },
                (error) => {
                    console.error(error.message);
                }
            );
        }

        // Initial update
        updateTime();
        updateLocationTime();

        // Update the time every second
        setInterval(updateTime, 1000);
    </script>
</body>
</html>
